# Module 10 – Robotic Arm


Understanding robot kinematics is essential for design, programming, and control of articulated arms. This section covers coordinate transformations, forward and inverse kinematics, and mechanical design considerations.

## Coordinate Systems and Transformations

**Reference Frames**

Base Frame:
- Fixed to robot mounting surface
- Origin typically at base center
- Z-axis points up (convention)

Joint Frames:
- One per joint, following Denavit-Hartenberg (D-H) convention
- Defines position and orientation of each link
- Standardized parameterization

Tool Frame (TCP - Tool Center Point):
- Attached to end effector
- Origin at functional point (gripper center, torch tip, probe ball)
- Orientation defines tool direction

World Frame:
- External reference (workcell, part fixture)
- Robot base frame positioned relative to world frame
- Multiple robots share common world frame

**Homogeneous Transformations**

Represent position and orientation in single 4×4 matrix:

```
T = [R  p]
    [0  1]
```

Where:
- R = 3×3 rotation matrix
- p = 3×1 position vector

Combine rotations and translations:
```
T_total = T_1 × T_2 × T_3 × ... × T_n
```

**Denavit-Hartenberg (D-H) Parameters**

Standard method to describe robot kinematics with four parameters per joint:

- θ (theta): Joint angle (variable for revolute joint)
- d: Link offset along previous Z-axis
- a (alpha): Link length along X-axis
- α (alpha): Link twist about X-axis

Transformation from joint i-1 to joint i:
```
T_i = Rot_Z(θ_i) × Trans_Z(d_i) × Trans_X(a_i) × Rot_X(α_i)
```

## Forward Kinematics

**Definition**: Given joint angles, calculate end effector position and orientation.

**6-Axis Articulated Robot Example**

Standard industrial robot configuration (similar to Fanuc, ABB):

Joint 1: Base rotation (waist)
Joint 2: Shoulder rotation
Joint 3: Elbow rotation
Joint 4: Wrist roll
Joint 5: Wrist pitch
Joint 6: Wrist yaw (tool flange)

**D-H Parameter Table (Example)**

| Joint | θ_i      | d_i   | a_i   | α_i   |
|-------|----------|-------|-------|-------|
| 1     | θ1       | d1    | 0     | 90°   |
| 2     | θ2-90°   | 0     | a2    | 0°    |
| 3     | θ3       | 0     | a3    | 90°   |
| 4     | θ4       | d4    | 0     | -90°  |
| 5     | θ5       | 0     | 0     | 90°   |
| 6     | θ6       | d6    | 0     | 0°    |

Typical values:
- d1 = 400 mm (base height)
- a2 = 500 mm (upper arm)
- a3 = 400 mm (forearm)
- d4 = 450 mm (wrist length)
- d6 = 100 mm (flange to TCP)

**Forward Kinematics Calculation**

```
T_0_6 = T_0_1 × T_1_2 × T_2_3 × T_3_4 × T_4_5 × T_5_6
```

Result is 4×4 matrix giving TCP position and orientation:
```
T_0_6 = [R_0_6  p_0_6]
        [0      1    ]
```

Position: p_0_6 = [X, Y, Z]
Orientation: R_0_6 (can be converted to Euler angles or quaternion)

**Implementation**

Typically implemented in controller firmware. For verification or custom controllers:

```python
import numpy as np

def dh_transform(theta, d, a, alpha):
    """Create D-H transformation matrix"""
    ct = np.cos(theta)
    st = np.sin(theta)
    ca = np.cos(alpha)
    sa = np.sin(alpha)

    return np.array([
        [ct, -st*ca,  st*sa, a*ct],
        [st,  ct*ca, -ct*sa, a*st],
        [0,   sa,     ca,    d   ],
        [0,   0,      0,     1   ]
    ])

def forward_kinematics(joint_angles, dh_params):
    """Calculate TCP pose from joint angles"""
    T = np.eye(4)
    for i, (theta, d, a, alpha) in enumerate(dh_params):
        theta_i = theta + joint_angles[i]  # Add variable joint angle
        T = T @ dh_transform(theta_i, d, a, alpha)
    return T
```

## Inverse Kinematics

**Definition**: Given desired TCP position and orientation, calculate required joint angles.

**Challenges**
- Non-linear equations
- Multiple solutions (typically 8 for 6-axis robot)
- Singularities where solutions undefined
- Computational complexity

**Solution Methods**

Analytical (Closed-Form):
- Derive equations algebraically
- Fast computation
- Specific to robot geometry
- Most industrial robots have analytical solutions

Numerical:
- Iterative optimization (Newton-Raphson, Jacobian-based)
- General approach for any geometry
- Slower, may not converge
- Used when analytical solution unavailable

**Analytical Inverse Kinematics (Simplified)**

For standard 6-axis articulated robot:

**Step 1: Position of Wrist Center**
```
p_wrist = p_tcp - d6 * R_tcp * [0, 0, 1]
```
Subtract tool length along tool Z-axis.

**Step 2: Joint 1 (Base Rotation)**
```
θ1 = atan2(p_wrist_y, p_wrist_x)
```

**Step 3: Joints 2 and 3 (Arm Triangle)**

Solve triangle formed by shoulder, elbow, wrist:
```
r = sqrt(p_wrist_x² + p_wrist_y²)
s = p_wrist_z - d1
D = sqrt(r² + s²)

cosθ3 = (D² - a2² - a3²) / (2 * a2 * a3)
θ3 = ±acos(cosθ3)  # Elbow up or down

θ2 = atan2(s, r) - atan2(a3*sin(θ3), a2 + a3*cos(θ3))
```

**Step 4: Joints 4, 5, 6 (Wrist Orientation)**

Calculate rotation from current orientation to desired:
```
R_3_6 = R_0_3^(-1) * R_0_6

Extract Euler angles from R_3_6:
θ5 = acos(R_3_6[2,2])
θ4 = atan2(R_3_6[1,2], R_3_6[0,2])
θ6 = atan2(R_3_6[2,1], -R_3_6[2,0])
```

**Multiple Solutions**

Typical 8 solutions arise from:
- Joint 1: ± configuration (front/back)
- Joint 3: ± (elbow up/down)
- Joint 5: ± (wrist flip)

Controller selects solution based on:
- Closest to current position (minimum joint motion)
- Avoids joint limits
- Avoids singularities
- User-specified preferences

## Singularities

**Definition**: Configurations where robot loses a degree of freedom, making certain TCP motions impossible.

**Types**

Wrist Singularity (Gimbal Lock):
- Joint 5 = 0° or 180°
- Joints 4 and 6 axes align
- Cannot rotate about one axis
- Small TCP rotation requires large J4, J6 motion

Shoulder Singularity:
- Wrist center directly above or below base axis
- Joint 1 undefined
- Infinite solutions for J1

Elbow Singularity:
- Arm fully extended or folded
- Wrist center at boundary of reachable workspace
- Joint 3 at limit

**Handling Singularities**

Avoidance:
- Path planning keeps away from singular configurations
- Define keep-out zones

Damped Least Squares:
- Numerical method to gracefully handle near-singularities
- Slightly deviates from desired path to maintain stability

Reorientation:
- Temporarily change tool orientation to exit singularity
- Resume desired orientation after clear

## Workspace Analysis

**Reachable Workspace**

Maximum extent robot can reach:
```
R_max = a2 + a3 + d4 + d6 (fully extended)
R_min = |a2 - a3| - d4 (fully folded)
```

Workspace typically partial toroid shape with voids near singularities.

**Dexterous Workspace**

Region where full orientation control available:
- Smaller than reachable workspace
- Excludes singular configurations
- Critical for assembly tasks

**Workspace Optimization**

Robot Placement:
- Position base to maximize useful workspace coverage
- Consider multiple tasks and work areas
- Allow clearance for approach angles

Mounting Options:
- Floor mount: Standard, stable
- Inverted ceiling mount: Frees floor space, gravity aids downward force
- Wall mount: Side access to workspace
- Rail mount: Extended linear reach, multi-station service

## Link Design

**Material Selection**

Aluminum Alloys:
- 6061-T6, 7075-T6
- Lightweight, good strength-to-weight
- Easy machining and welding
- Standard for small to medium robots

Carbon Fiber Composites:
- Highest strength-to-weight ratio
- Reduces inertia, increases speed
- More expensive, harder to manufacture
- Used in high-performance robots

Steel:
- Heavy-duty robots and bases
- High stiffness and strength
- Increased inertia

**Structural Considerations**

Stiffness:
- Minimize deflection under load
- Use structural shapes (box section, I-beam)
- FEA analysis for optimization

Resonance:
- Natural frequencies above servo bandwidth (>50 Hz)
- Damping (material selection, damping pads)

Cable Routing:
- Internal channels for cables and hoses
- Rotating joints require cable management
- Strain relief at entry/exit points

**Mass Distribution**

Center of Gravity:
- Keep close to joint axes
- Reduces torque requirements
- Improves dynamic performance

Inertia:
- Minimize rotational inertia
- Concentrate mass near joints
- Affects acceleration capability

## Joint Design

**Revolute Joint Construction**

Components:
- Bearings (crossed roller, angular contact pairs)
- Motor and gearbox (harmonic drive, planetary)
- Encoder (absolute or incremental)
- Brake (holding position when unpowered)
- Housing and seals

**Bearing Selection**

Load Types:
- Radial (perpendicular to shaft)
- Axial (parallel to shaft)
- Moment (tilting)

Bearing Types:
- Deep groove ball: Radial load, low cost
- Angular contact: Combined radial and axial
- Crossed roller: High rigidity, compact
- Tapered roller: Heavy loads

Preload:
- Eliminates play for precision
- Dual bearing configuration
- Springs or shims for adjustment

**Joint Sealing**

Protection Rating:
- IP40: Basic dust protection
- IP54: Enhanced dust, splash resistant
- IP65: Full dust seal, water jet resistant

Seal Types:
- Lip seals (elastomer)
- Labyrinth seals (non-contact)
- Combination for high protection

## Mechanical Transmission

**Harmonic Drives**

Advantages:
- Zero backlash
- High reduction ratio (50:1 to 160:1)
- Compact, coaxial design
- Excellent for precision joints

Disadvantages:
- Expensive
- Finite life (flexspline fatigue)
- Requires periodic inspection

**Planetary Gearboxes**

Advantages:
- Lower cost than harmonic drives
- High efficiency (>95%)
- Robust and long-lasting

Disadvantages:
- Some backlash (can be minimized with preload)
- Larger package
- Lower reduction ratios per stage

**Timing Belts**

Used for wrist joints:
- Lightweight
- Compliant (some shock absorption)
- Low backlash with proper tension
- Reduction via pulley diameter ratio

**Direct Drive**

No gearbox:
- Zero backlash
- High bandwidth control
- Simplified mechanics

Requires:
- Large, high-torque motors
- More expensive
- Lower reduction in inertia reflected to motor

## Gravity Compensation

**Purpose**: Counteract gravity forces on links to reduce motor torque requirements.

**Spring Balancing**
- Extension springs or gas springs
- Connect between fixed base and moving link
- Tune spring rate and position for balance

**Counterweights**
- Masses added opposite load
- Simple, no wear
- Increases total moving mass and inertia

**Active Compensation**
- Motor applies counter-torque based on joint angles
- Requires continuous power
- Most flexible, no added mechanical complexity

## Example Robot Design

**Small 6-Axis Desktop Robot**

Specifications:
- Reach: 500 mm
- Payload: 2 kg
- Repeatability: ±0.05 mm

Link Lengths:
- Upper arm (a2): 250 mm
- Forearm (a3): 250 mm
- Wrist length (d4): 150 mm

Motors:
- J1, J2: NEMA 23 servo, 100W
- J3, J4: NEMA 17 servo, 50W
- J5, J6: NEMA 14 servo, 25W

Gearing:
- J1, J2, J3: 100:1 harmonic drive
- J4, J5, J6: 50:1 planetary or timing belt

Materials:
- Links: 6061-T6 aluminum
- Base: Steel plate and structural aluminum
- Fasteners: Stainless steel

***

**Next**: [10.3 Joint Mechanisms and Actuators](section-10.3-joint-mechanisms.md)

---

## References

1. **ISO 10218-1:2011** - Robots and robotic devices - Safety requirements
2. **ISO 9283:1998** - Manipulating industrial robots - Performance criteria
3. **Denavit, J. & Hartenberg, R.S. (1955).** "A Kinematic Notation for Lower-Pair Mechanisms." *ASME Journal of Applied Mechanics*, 22, 215-221
4. **Craig, J.J. (2017).** *Introduction to Robotics: Mechanics and Control* (4th ed.). Pearson
5. **Lynch, K.M. & Park, F.C. (2017).** *Modern Robotics*. Cambridge University Press
6. **ABB Robot Studio Software** - Robot simulation and programming
7. **KUKA System Software (KSS)** - Robot control and motion planning
