# Module 21 – Metrology and Precision Measurement


Machine tool accuracy directly affects part quality. Regular assessment and calibration ensure machines maintain specified performance over time.

## 21.8.1 ISO 230 Standard for Machine Tool Testing

ISO 230 is the international standard for testing the accuracy of machine tools.

### ISO 230 Structure

**ISO 230-1**: General concepts, definitions, and test methods

**ISO 230-2**: Determination of accuracy and repeatability of positioning

**ISO 230-3**: Determination of thermal effects

**ISO 230-4**: Circular tests for CNC machine tools

**ISO 230-6**: Determination of positioning accuracy on body and face diagonals (ballbar)

**ISO 230-7**: Geometric accuracy of axes of rotation

### Key Concepts

**Accuracy**: Closeness of commanded position to actual position

**Repeatability**: Variation when returning to same position multiple times

**Resolution**: Smallest increment system can distinguish

**Reversal Error (Backlash)**: Position error when approaching from opposite directions

**Positioning Deviation**: Difference between target and actual position

### Test Conditions

**Environmental Requirements**:
- Stable temperature (typically 20°C ±2°C)
- Thermal equilibrium (machine warm-up)
- No external vibration
- Consistent humidity

**Machine Preparation**:
- Run machine for minimum 30 minutes at typical duty cycle
- Lubrication system operational
- No abnormal wear or damage

---

## 21.8.2 Geometric Accuracy (21 Error Components)

Every machine axis has multiple error components that affect overall accuracy.

### The 21 Geometric Errors (for 3-axis machine)

**For Each Linear Axis** (X, Y, Z) – 6 errors per axis:

1. **Linear positioning error**: EXX, EYY, EZZ
   - Deviation along its own axis

2. **Horizontal straightness**: EXY, EYZ, EZX
   - Deviation perpendicular to motion (horizontal)

3. **Vertical straightness**: EXZ, EYX, EZY
   - Deviation perpendicular to motion (vertical)

4. **Roll**: EXA, EYB, EZC
   - Rotation about axis of motion

5. **Pitch**: EXB, EYC, EZA
   - Rotation about horizontal perpendicular axis

6. **Yaw**: EXC, EYA, EZB
   - Rotation about vertical perpendicular axis

**Total: 18 errors** (3 axes × 6 errors each)

**Additional 3 Squareness Errors**:

7. **Squareness between axes**:
   - SXY: X to Y squareness
   - SYZ: Y to Z squareness
   - SZX: Z to X squareness

**Total: 21 geometric errors**

### Measuring Geometric Errors

**Linear Positioning**:
- Laser interferometer along axis
- Multiple positions across full travel
- Bi-directional measurement

**Straightness**:
- Laser with straightness optics
- Optical level or autocollimator
- Across full axis travel

**Angular Errors** (Roll, Pitch, Yaw):
- Electronic levels
- Autocollimators
- Laser with angular optics

**Squareness**:
- Laser interferometer with multiple reflectors
- Granite square and indicators
- CMM verification

### Error Mapping and Compensation

Modern CNC controls can apply **volumetric error compensation**:

1. Measure all 21 error components
2. Create error map across machine volume
3. Control applies real-time corrections
4. Significantly improves machine accuracy

**Typical Improvement**: 50-80% reduction in positioning errors

---

## 21.8.3 Ballbar Testing for Circular Interpolation

The ballbar test (per ISO 230-4) evaluates circular interpolation accuracy using a telescoping bar with precision ball joints.

### Ballbar Setup

**Components**:
- Telescoping bar with linear encoder or LVDT
- Precision ball ends (kinematic coupling)
- Center mount (magnetic base on machine table)
- Spindle mount (ball cup attached to spindle or Z-axis)

**Operation**:
1. Mount center ball on table
2. Attach spindle ball to machine
3. Program circular interpolation (typically Ø300mm)
4. Machine executes circle while ballbar measures radius variation
5. Software analyzes results

### What Ballbar Tests

**Circular Interpolation**:
- Synchronization between X and Y axes
- Servo mismatch
- Backlash and reversal spikes
- Stick-slip friction
- Scale mismatch

**Benefits**:
- Quick test (15-30 minutes per orientation)
- Highly sensitive to machine problems
- Visual graphical output
- Trend tracking over time

### Interpreting Ballbar Results

**Ideal Result**: Perfect circle (all deviations near zero)

**Common Error Signatures**:

**Circular Form (Ovality)**:
- Squareness error between axes
- Scale mismatch between axes
- Perpendicularity issue

**Reversal Spikes**:
- Backlash in drives or ballscrews
- Clearance in couplings
- Lost motion in system

**Quadrant Glitches**:
- Servo tuning issues
- Friction variation between directions
- Stick-slip behavior

**Vibration/Lobing**:
- Mechanical resonance
- Servo instability
- Structural issues

**Typical Acceptance**: Circularity within ±5-10 μm for precision machines

### Ballbar Test Planes

**Horizontal Plane (XY)**:
- Most common test
- Z-axis at mid-travel

**Vertical Planes (XZ, YZ)**:
- Tests different axis combinations
- Important for 5-axis machines

**Multiple Radii and Feedrates**:
- Different radii reveal scale errors
- Different feedrates test servo performance

---

## 21.8.4 Laser Calibration Systems

Laser interferometry provides the most accurate method for calibrating machine tool positioning.

### Linear Axis Calibration

**Setup**:
1. Mount laser unit to machine table or bed
2. Attach retroreflector to spindle or Z-axis
3. Align laser beam parallel to axis
4. Input environmental compensation (temperature, pressure, humidity)

**Test Process**:
1. Program axis to move to specified positions
2. Laser measures actual position at each point
3. Bi-directional measurement (forward and reverse)
4. Multiple runs for statistical validation

**Measurements Obtained**:
- **Positioning error**: Deviation from commanded position
- **Repeatability**: Standard deviation at each position
- **Reversal error**: Difference between forward and reverse approach
- **Hysteresis**: Non-repeatable errors

**Typical Grid**: 20-30 positions across axis travel

### Angular Calibration

**Optical Square or Pentaprism**:
- Measures squareness between axes
- Accuracy: ±0.5 arcseconds

**Angular Optics**:
- Laser with angular measurement capability
- Measures roll, pitch, yaw
- Resolution: 0.1 arcseconds

### Rotary Axis Calibration

**Laser or Electronic Autocollimator**:
- Measures angular positioning of A/B/C axes
- Polygon or rotary indexer as reference

**Typical Accuracy**: ±1-2 arcseconds for precision rotary tables

### Calibration Frequency

**New Machine Acceptance**: Full geometric calibration

**Periodic Verification**:
- Annual: Production machines
- Semi-annual: Precision machines
- Quarterly: Ultra-precision machines
- After crash or major repair

**Quick Checks**: Ballbar testing monthly or quarterly

---

## 21.8.5 Thermal Drift and Compensation

Temperature changes cause machine structures and components to expand, creating positioning errors.

### Sources of Thermal Drift

**Internal Heat Sources**:
- Spindle bearings and motor
- Ballscrews and linear guides
- Servo motors and drives
- Hydraulic systems
- Electrical cabinets

**External Heat Sources**:
- Ambient temperature variation (day/night, HVAC)
- Direct sunlight
- Adjacent equipment
- Personnel proximity

**Coolant Temperature**: Variations affect workpiece and tooling

### Thermal Error Magnitude

**Example**: A 1-meter steel column with 1°C temperature rise expands 11.5 μm

**Typical Thermal Drift**: 10-50 μm over hours of operation

**Impact**: Can exceed machine's geometric accuracy by an order of magnitude!

### Thermal Stabilization

**Warm-Up Period**:
- Run machine at typical duty cycle
- Typically 30-60 minutes minimum
- Longer for high-precision work
- Spindle warm-up critical

**Environmental Control**:
- Temperature-controlled shop (±1-2°C)
- Avoid direct sunlight on machines
- Consistent HVAC operation
- Thermal curtains or enclosures

### Thermal Compensation

**Passive Methods**:
- Thermally symmetric design
- Low CTE materials (Invar, ceramics)
- Thermal isolation of heat sources
- Coolant through structures

**Active Compensation**:

**Temperature Sensor Arrays**:
- Thermocouples or RTDs at multiple locations
- Measure ballscrew, column, bed temperatures
- Real-time monitoring

**Compensation Models**:
- Mathematical model relates temperature to position error
- Control applies real-time corrections
- Typical improvement: 70-90% reduction in thermal errors

**Adaptive Learning**:
- System learns thermal behavior over time
- Improves compensation accuracy
- Accounts for seasonal variations

### ISO 230-3 Thermal Testing

**Environmental Temperature Variation Test** (ETVE):
- Measures position error as ambient temperature varies
- Machine at rest or low-duty cycle
- Quantifies passive thermal stability

**Thermal Distortion Test**:
- Run spindle and drives at high duty cycle
- Monitor position drift over 4+ hours
- Measures active thermal effects

---

## 21.8.6 Volumetric Error Mapping

Volumetric error is the combined effect of all 21 geometric errors at any point in the machine's work envelope.

### Volumetric Accuracy Measurement

**Traditional Method**:
- Measure all 21 error components individually
- Computationally combine using kinematics
- Time-consuming (days)

**Laser Tracker or Laser Tracer**:
- Measures 3D position at grid points throughout volume
- Fast (hours instead of days)
- Directly measures volumetric error

**Ballbar Body Diagonal Test** (ISO 230-6):
- Ballbar measurement along space diagonals
- Tests three-axis coordinated motion
- Reveals volumetric errors
- Quick screening test

### Volumetric Error Compensation

**Process**:
1. Measure volumetric errors at grid points
2. Create 3D error map
3. Fit mathematical model (polynomial or spline)
4. Load compensation table into control
5. Control applies corrections in real-time

**Benefits**:
- Significantly improves accuracy across entire volume
- Extends machine capability
- Enables tighter tolerances
- Can compensate aging machine

**Limitations**:
- Cannot compensate dynamic errors (cutting forces)
- Requires periodic recalibration
- Complex setup and modeling

---

## Summary

Machine tool accuracy assessment is fundamental to precision manufacturing. ISO 230 provides standardized test methods. The 21 geometric errors define machine accuracy. Ballbar testing quickly evaluates circular interpolation. Laser systems provide traceable calibration. Thermal effects often dominate errors and must be controlled or compensated. Volumetric error mapping and compensation significantly improve machine performance. Regular assessment ensures machines maintain specification over time.

---

## Key Takeaways

1. **ISO 230** is the international standard for machine tool testing
2. **21 geometric errors** define 3-axis machine accuracy
3. **Repeatability** is typically 3-5× better than positioning accuracy
4. **Ballbar testing** quickly evaluates circular interpolation and servo performance
5. **Laser interferometry** provides highest accuracy for calibration
6. **Thermal drift** can exceed geometric errors by 10×
7. **Warm-up period** (30-60 min) is essential for accuracy
8. **Volumetric compensation** improves accuracy 50-80%
9. **Regular calibration** maintains machine performance over time
10. **Thermal compensation** is critical for precision work

---

## Review Questions

1. What is the difference between accuracy and repeatability in machine tool testing?
2. List the six error components for a single linear axis.
3. What does ballbar testing measure and what are common error signatures?
4. Why is thermal drift often the dominant error source in machine tools?
5. How long should a machine warm up before precision machining?
6. What is volumetric error and how is it different from individual axis errors?
7. Calculate the thermal expansion of a 500mm steel component with 2°C temperature rise (α = 11.5 ppm/°C).
8. When should a production CNC machine undergo full geometric calibration?
